<div id="dashboard-summary">
   <h1 class="page-header" data-i18n="modals.dashboard.sub-windows.summary.title"></h1>
   <!--<h2 class="sub-header"  data-i18n="modals.dashboard.sub-windows.summary.information"></h2>-->
   <div class="table-responsive summary-table">
      <table class="table table-striped table-hover table-bordered">
         <tr>
            <td class="header" data-i18n="modals.dashboard.sub-windows.summary.connectedUser"></td>
            <td id="dashboard-summary-connected-user">None</td>
         </tr>
         <tr>
            <td class="header" data-i18n="modals.dashboard.sub-windows.summary.platform"></td>
            <td id="dashboard-summary-platform">Windows</td>
         </tr>
         <tr>
            <td class="header" data-i18n="modals.dashboard.sub-windows.summary.softwareVersion"></td>
            <td id="dashboard-summary-software-version">0.7b</td>
         </tr>
         <tr>
            <td class="header" data-i18n="modals.dashboard.sub-windows.summary.databaseVersion"></td>
            <td id="dashboard-summary-database-version">0.7b</td>
         </tr>
         <tr>
            <td class="header" data-i18n="modals.dashboard.sub-windows.summary.startedFrom"></td>
            <td id="dashboard-summary-started-from">2 days 4 hours 21 minutes 34 seconds</td>
         </tr>
      </table>
   </div>
</div>

<script>
   //we update all fields
   $.getJSON("rest/configuration/Database/Version")
      .done(function(data) {

         //we parse the json answer
         if (data.result != "true") {
           notifyError($.t("dashboard.sub-windows.summary.errorRequestingDatabaseVersion"), JSON.stringify(data));
            return;
         }

         $("td#dashboard-summary-database-version").text(data.data.value);

      })
      .fail(function() { notifyError($.t("dashboard.sub-windows.summary.errorRequestingDatabaseVersion")); });

   $.getJSON("rest/general/system")
      .done(function(data) {

         //we parse the json answer
         if (data.result != "true") {
            notifyError($.t("dashboard.sub-windows.summary.errorRequestingSystemInformation"), JSON.stringify(data));
            return;
         }

         $("td#dashboard-summary-platform").text(data.data.runningPlatform);
         $("td#dashboard-summary-software-version").text(data.data.yadomsVersion);
         $("td#dashboard-summary-started-from").text(DateTimeFormatter.isoDateToDate(data.data.startupTime).fromNow());

      })
      .fail(function() { notifyError($.t("dashboard.sub-windows.summary.errorRequestingDatabaseVersion")); });

   //TODO get other information
</script>