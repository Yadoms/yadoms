<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Yet Another DOMotic System">
    <meta name="author" content="yadoms team">
    <link rel="shortcut icon" href="assets/ico/favicon.png">

    <title>Yadoms</title>

    <!-- Bootstrap core CSS -->
    <link href="libs/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="css/bootstrap-non-responsive.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/yadoms.css" rel="stylesheet">
	<link href="libs/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/gridster.css" rel="stylesheet">

   <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=FontName">
   
    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

      <!-- Gridster includes -->
      <link href="libs/gridster/css/jquery.gridster.css" rel="stylesheet">
  </head>

  <body>

  <!-- Fixed navbar -->
  <div class="navbar navbar-default navbar-static-top" role="navigation">
      <div class="container">
          <div class="row" id="mainNavBar">
              <div class="col-md-12">
                  <div class="navbar-header">
                      <a class="navbar-brand" href="#">Yadoms</a>
                  </div>
                  <div class="navbar-collapse collapse">
                      <ul class="nav navbar-nav">
                          <li class="dropdown">
                              <a href="" class="dropdown-toggle btn btn-inverse" data-toggle="dropdown"><i class="caret"></i></a>
                              <ul class="dropdown-menu">
                                  <li><a href="#">Configuration</a></li>
                                  <li><a href="#">Check For Update</a></li>
                                  <li><a href="#">...</a></li>
                                  <li class="divider"></li>
                                  <li class="dropdown-header">Shutdown/Restart</li>
                                  <li><a href="#">Shutdown</a></li>
                                  <li><a href="#">Restart</a></li>
                              </ul>
                          </li>
                          <li><a href="#" class="btn btn-inverse customization-item" id="btn-add-widget"><i class="glyphicon glyphicon-plus"></i>&nbsp;&nbsp;Add a new widget</a></li>
                          <li><a href="#" class="btn btn-inverse customization-item hidden" id="btn-exit-customization"><i class="fa fa-times"></i>&nbsp;&nbsp;Exit customization</a></li>
                      </ul>
                      <ul class="nav navbar-nav navbar-right">
                          <li><a href="#" class="btn btn-inverse" id="chartButton"><i class="fa fa-bar-chart-o"></i></a></li>
                          <li><a href="#" class="btn btn-inverse" id="customizeButton"><i class="fa fa-wrench"></i></a></li>
                      </ul>
                      </div>
                  </div>
              </div>
          <div class="row">
              <div class="col-md-12">
                  <div class="nav navbar-nav" id = "pageMenu">
                      <ul class="nav nav-pills nav-justified">
                          <!-- Nav pills of pages will be inserted here -->
                      </ul>
                  </div>
              </div>
          </div>
          </div><!--/.nav-collapse -->
      </div>
  </div>

  <div id="tabContainer">
      <div class="tab-content">
          <!-- Gridster tabs will be inserted here -->
      </div>

      <footer class="footer"><p>&copy; Yadoms 2014</p></footer>

  </div>

   <!-- Bootstrap core JavaScript
   ================================================== -->
   <!-- Placed at the end of the document so the pages load faster -->
   <script src="libs/jquery/js/jquery-1.11.0.min.js"></script>
   <script src="libs/bootstrap/js/bootstrap.min.js"></script>

   <!-- Gridster includes -->
   <!--TODO: reprendre la version min-->
   <script src="libs/gridster/js/jquery.gridster.js"></script>

   <script src="libs/transit/js/jquery.transit.min.js"></script>
   <script src="libs/knockout/js/knockout-3.0.0.js"></script>

  <script src="js/utility.js"></script>

  <script src="js/widget-engine.js"></script>
   <script src="js/widget-customization.js"></script>

  <script type="text/javascript" src="libs/noty/js/packaged/jquery.noty.packaged.min.js"></script>

   <div id="templates" class="hidden"></div>

	<script type="text/javascript">

   //var declaration
   var customization = false;

   var pageArray = {};
   var widgetArray = {};
   var widgetViewModel;

   var numberOfColumns = 9;
   var gridWidth = 100;
   var gridMargin = 5;

   $( document ).ready(function() {
      //we get pages
      $.getJSON( "/rest/page", requestPageDone());

       $("#btn-confirm-add-widget").click(function () {
            //we close the new widget modal
           ("#new-widget-modal").hide();
           //we add the widget
           //TODO
           //we open the configuration like if the user has clicked on the configuration button
           //TODO

       });

   });


	</script>

  <!--New widget Modal -->
  <div class="modal fade" id="new-widget-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
          <div class="modal-content">
              <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                  <h4 class="modal-title" id="myModalLabel">Add a new Widget</h4>
              </div>
              <div class="modal-body">
                  <div id="new-widget-carousel" class="carousel slide">

                      <!-- Wrapper for slides -->
                      <div class="carousel-inner">
                          <!-- widgets types will be inserted here -->
                      </div>

                      <!-- Controls -->
                      <a class="left carousel-control" href="#new-widget-carousel" data-slide="prev">
                          <span class="icon-prev"></span>
                      </a>
                      <a class="right carousel-control" href="#new-widget-carousel" data-slide="next">
                          <span class="icon-next"></span>
                      </a>
                  </div>
              </div>
              <div class="modal-footer">
                  <button id="btn-get-more-widget" type="button" class="btn btn-primary pull-left">Get more widget</button>
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <button id="btn-confirm-add-widget" type="button" class="btn btn-primary">Add new</button>
              </div>
          </div>
      </div>
  </div>

  </body>
</html>
